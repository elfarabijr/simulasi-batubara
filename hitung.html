<!doctype html>
<html lang="en">
<head>
	<!-- Required meta tags -->
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

	<!-- Bootstrap CSS -->
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
	<link href="https://cdn.jsdelivr.net/gh/gitbrent/bootstrap4-toggle@3.6.1/css/bootstrap4-toggle.min.css"
	rel="stylesheet">
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"
	integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">
	<title>Simulasi & Pemodelan</title>
	<style type="text/css">
	.fade-in {
		opacity: 1;
		animation-name: fadeInOpacity;
		animation-iteration-count: 1;
		animation-timing-function: ease-in;
		animation-duration: 2s;
	}

	@keyframes fadeInOpacity {
		0% {
			opacity: 0;
		}
		100% {
			opacity: 1;
		}
	}
</style>
</head>
<body>
	<div class="card-body" id="refres" style="position:absolute; left: 0; margin-left: 15px; top: 0; margin-top: 10px; display: none;">
		<a href=""><button class="btn btn-info">MUAT ULANG</button></a> 
	</div>
	<h2 class="text-center pt-4 text-info">SIMULASI PEMBANGKIT LISTRIK TENAGA UAP BATUBARA</h2>
	<hr>
	<div class="container fade-in" >
		<div class="row" style="align-content: center;">
			<div class="col-2"></div>
			<div class="col-8">
				<label for="inputan">Banyak Batubara :</label>
				<div class="input-group mb-3">
					<input type="number" min="1" class="form-control" id="inputan" required="">
					<div class="input-group-append">
						<span class="input-group-text">Kg</span>
					</div>
				</div>
				<button id="btnInput" class="btn btn btn-danger col-12">PROSES</button>
				<br>
				<br>
				<a href="index.html" class="btn btn-outline-secondary col-12">KEMBALI</a>
			</div>
		</div>

	</div>

	<!-- animasi  -->
	<div id="bungkus" class="container" style="margin-top: 100px;">
		<div id="informasi" style="position:absolute; left: 0; margin-left: 20px; bottom: 0; margin-bottom: 25px;" class="fade-in">
			<div class="card bg-warning" style="width: 300px;">
				<div class="card-header"> <i class="fa fa-info-circle"></i> Info</div>
				<div class="card-body">
					<p>Tahapan Ringkas PLTU Batubara :
						<ul>
							<li>Penggilingan Batubara</li>
							<li>Boiler</li>
							<li>Generator</li>
							<li>Penyaluran</li>
						</ul>
					</p>
				</div>
			</div>
		</div>
		<div id="batu" style="position:absolute; margin-top: 30px; margin-left: 10; display: none">
			<img id="ubah" src="PLTUB/troli.png" style="height: 60px">
		</div>
		<div id="mb" style="position:absolute;right: 0; ">
			<img src="PLTUB/mb.png" style="height: 150px; ">
			<div id="jalan" style="height: 10px; background-color: grey;"></div>
		</div>
		<div id="penggiling" style="display: none; text-align: center; width: 150px; height: 100px; position: absolute;"
		class="mt-5">
		<img id="gil" src="PLTUB/giling.png" width="50%">
		<p>penggilingan</p>
	</div>
	<div id="boiler" style="display: none; width: 150px; height: 100px;  position: absolute; text-align: center;"
	class="mt-5">
	<img src="PLTUB/boiler.png" width="50%">
	<p>Boiler</p>
</div>
<div id="generator" style="display: none; width: 150px; height: 100px;  position: absolute; text-align: center;" 
class="mt-5">
<img src="PLTUB/generator.png" width="50%">
<p>Generator</p>
</div>
<div id="penyaluran" style="display: none; width: 150px; text-align: center; height: 100px;  position: absolute;"
class="mt-5">
<img src="PLTUB/penyalur.png" width="50%">
<p >Transformer</p>
</div>
<!-- animasi done -->
</div>

<!-- Modal -->
<div class="modal fade" id="modalhasil" data-backdrop="static" data-keyboard="false" tabindex="-1" role="dialog" aria-labelledby="staticBackdropLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<h5 class="modal-title" id="staticBackdropLabel">HASIL</h5>
				<button type="button" class="close" data-dismiss="modal" aria-label="Close">
					<span aria-hidden="true">&times;</span>
				</button>
			</div>
			<div class="modal-body">
				<h3 class="text-center text-info">Total <span id="nil"></span> kWh</h3>
				<div class="row">
					<div class="col-md-6 mt-2 text-center">
						<p>Rumah 900kWh</p>
						<img id="rmh" src="PLTUB/rumah2.png" alt="rumah900" class="img-fluid" width="200px">
						<input type="checkbox" name="rumah900" id="rumah900" data-toggle="toggle" data-width="100">
					</div>
					<div class="col-md-6 mt-2 text-center">
						<p>Rumah 1300kWh</p>
						<img id="rmh2" src="PLTUB/home2.png" alt="rumah1300" class="img-fluid" width="200px">
						<input type="checkbox" name="rumah1300" id="rumah1300" data-toggle="toggle" data-width="100">
					</div>
				</div>
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
			</div>
		</div>
	</div>
</div>

<script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/gh/gitbrent/bootstrap4-toggle@3.6.1/js/bootstrap4-toggle.min.js"></script>
<script type="text/javascript">
	$(document).ready(function() {

		$('#btnInput').on('click', function(){
			var inputan = $('#inputan').val();
			var nilai = inputan * 2;
			var pakai;
			var pakai2;
			var result = Math.round(nilai * 100) / 100;
			$('#nil').html(result);

			$('#rumah900').change(function () {
				if (this.checked) {
					if (result > 900) {						
						result = result - 900;
						$("#rmh").attr('src','PLTUB/rumah.png');
						pakai = 900;
					} else {
						alert('Daya tidak mencukupi!');
						pakai = 0;
					}
				} else {
					result = result + pakai;
					$("#rmh").attr('src','PLTUB/rumah2.png');
				}
				if(result > 0){
					$('#nil').html(Math.round(result * 100) / 100);
				}
			});
			$('#rumah1300').change(function () {
				if (this.checked) {
					if (result > 1300) {						
						result = result - 1300;
						$("#rmh2").attr('src','PLTUB/home.png');
						pakai2 = 1300;
					} else {
						alert('Daya tidak mencukupi!');
						pakai2 = 0;
					}
				} else {
					result = result + pakai2;
					$("#rmh2").attr('src','PLTUB/home2.png');
				}
				if(result > 0){
					$('#nil').html(Math.round(result * 100) / 100);
				}
			});

			$('#informasi').fadeOut();
			$("#mb").animate({ right: "0px" }, 1000);
			if(inputan > 0 && inputan != ''){
				$("#mb").animate({ width: "100%" }, function() {

					$("#batu").css('display', 'block');
				});
				setTimeout(() => {
					$("#batu").delay(1000);
					$("#batu").animate({right: "+800px" }, 2000);
					$("#penggiling").animate({ right: "+800px" }, 2000);
					$("#boiler").animate({ right: "+600px" }, 2000);
					$("#generator").animate({ right: "+400px" }, 2000);
					$("#penyaluran").animate({ right: "+200px" }, 2000);
					setTimeout(() => {
						$("#penggiling").css('display', 'block');
						$("#batu").animate({ right: "+600px" }, 2000);
						setTimeout(() => {
							$("#gil").animate({ deg: 180 },{	duration: 1200,
								step: function(now) {
									$(this).css({ transform: 'rotate(' + now + 'deg)' });
								}
							});
							$("#ubah").attr('src','PLTUB/bubuk.png');
							$("#boiler").css('display', 'block');
							$("#batu").animate({ right: "+400px" }, 2000);
							setTimeout(() => {
								$("#generator").css('display', 'block');
								$("#batu").animate({ right: "+200px" }, 2000);
								setTimeout(() => {
									$("#penyaluran").css('display', 'block');
									$("#ubah").attr('src','PLTUB/listrik.png');
								}, 1500);
								$("#ubah").attr('src','PLTUB/uap.png');
							}, 1500);
						}, 1500);
					}, 1500);


				}, 1000);
				setTimeout(() => {
					// $('#hasil').removeClass('d-none');
				// 	$('#bungkus').fadeOut();
				$("#refres").css('display', 'block');
				$('#modalhasil').modal('show');
			}, 12500);
			}else{
				alert('inputan tidak boleh kosong!');
			}
		});


	});
</script>
</html>